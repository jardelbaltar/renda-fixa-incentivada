<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Monitor de Debêntures Incentivadas</title>
    <style>
      :root {
        --bg: #e9e9e9;
        --panel: #f3f3f3;
        --card: #ffffff;
        --text: #1b1b1b;
        --muted: #5c5c5c;
        --accent: #f15d22;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Inter", "Segoe UI", Arial, sans-serif;
        background: var(--bg);
        color: var(--text);
      }

      .container {
        width: min(1180px, 92%);
        margin: 0 auto;
      }

      header {
        padding: 36px 0 30px;
      }

      .hero {
        display: grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 26px;
        align-items: center;
        background: var(--panel);
        border: 1px solid #d2d2d2;
        border-radius: 14px;
        padding: 24px;
      }

      .badge {
        display: inline-block;
        font-size: 0.78rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--accent);
        font-weight: 700;
      }

      h1 {
        margin: 8px 0 10px;
        font-size: clamp(1.7rem, 3vw, 2.5rem);
        line-height: 1.15;
      }

      .lead {
        margin: 0;
        color: var(--muted);
        max-width: 60ch;
      }

      .hero-cover {
        background: #fff;
        border: 1px solid #d7d7d7;
        border-radius: 12px;
        padding: 14px;
      }

      .hero-cover img {
        width: 100%;
        display: block;
        object-fit: contain;
        border-radius: 8px;
      }

      .section {
        margin: 0 0 28px;
      }

      .panel {
        background: var(--panel);
        border: 1px solid #d2d2d2;
        border-radius: 14px;
        padding: 20px;
      }

      .panel h2 {
        margin: 0;
        font-size: 2rem;
      }

      .panel .subtitle {
        margin: 6px 0 18px;
        color: var(--accent);
        font-size: 1.55rem;
        font-weight: 700;
      }

      .chart-title {
        margin: 0 0 12px;
        color: var(--accent);
        font-size: 1.35rem;
        font-weight: 700;
      }

      .chart-wrap {
        background: var(--card);
        border: 1px solid #d8d8d8;
        border-radius: 10px;
        padding: 12px;
        height: 360px;
      }

      .chart-wrap canvas {
        width: 100% !important;
        height: 100% !important;
      }

      footer {
        padding: 8px 0 30px;
        color: #666;
        font-size: 0.92rem;
      }

      @media (max-width: 900px) {
        .hero {
          grid-template-columns: 1fr;
        }

        .panel .subtitle {
          font-size: 1.25rem;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container hero">
        <div>
          <span class="badge">Uso interno • Mesa de crédito</span>
          <h1>Painel de Mercado Secundário — Debêntures Incentivadas</h1>
          <p class="lead">
            Visão executiva para acompanhamento técnico de aberturas/fechamentos e dinâmica do spread médio IPCA + Incentivadas.
            Estrutura inicial orientada para especialistas de mercado.
          </p>
        </div>
        <div class="hero-cover">
          <img src="More Invest Asset - Logo (1).png" alt="Identidade visual More Invest Asset" />
        </div>
      </div>
    </header>

    <main class="container">
      <section class="section panel">
        <p class="chart-title">Variação Spreads IPCA + Incentivadas (bps)</p>
        <div class="chart-wrap">
          <canvas id="spreadByDurationChart"></canvas>
        </div>
      </section>

      <section class="section panel">
        <h2>Mercado Secundário</h2>
        <p class="subtitle">Evolução Spread Médio IPCA + Incentivadas (bps)</p>
        <div class="chart-wrap">
          <canvas id="spreadEvolutionChart"></canvas>
        </div>
      </section>
    </main>

    <footer>
      <div class="container">Fonte interna: acompanhamento de negociação no secundário.</div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script>
      const spreadByDurationCtx = document.getElementById("spreadByDurationChart");
      const spreadEvolutionCtx = document.getElementById("spreadEvolutionChart");

      const cloudPoints = [
        { x: 1.0, y: -8 }, { x: 1.4, y: -2 }, { x: 1.8, y: -12 }, { x: 2.2, y: 4 }, { x: 2.7, y: 2 },
        { x: 3.1, y: -5 }, { x: 3.5, y: 8 }, { x: 3.8, y: -3 }, { x: 4.2, y: 6 }, { x: 4.6, y: -10 },
        { x: 5.0, y: -7 }, { x: 5.4, y: 5 }, { x: 5.8, y: -14 }, { x: 6.2, y: -1 }, { x: 6.6, y: -6 },
        { x: 7.0, y: 4 }, { x: 7.4, y: -8 }, { x: 7.8, y: 10 }, { x: 8.2, y: -2 }, { x: 8.6, y: -5 },
        { x: 9.0, y: 2 }, { x: 9.4, y: -11 }, { x: 9.8, y: -3 }, { x: 10.1, y: 1 },
      ];

      const topOpenings = [
        { x: 2.5, y: 30 }, { x: 2.9, y: 28 }, { x: 3.4, y: 33 }, { x: 3.8, y: 58 },
        { x: 4.4, y: 35 }, { x: 6.3, y: 62 }, { x: 7.1, y: 42 }, { x: 7.6, y: 34 },
      ];

      const topClosings = [
        { x: 1.0, y: -108 }, { x: 2.6, y: -86 }, { x: 3.4, y: -52 }, { x: 5.9, y: -45 },
        { x: 6.3, y: -31 }, { x: 6.8, y: -38 }, { x: 8.1, y: -48 }, { x: 8.4, y: -41 }, { x: 9.2, y: -29 },
      ];

      new Chart(spreadByDurationCtx, {
        type: "scatter",
        data: {
          datasets: [
            {
              label: "Base do mercado",
              data: cloudPoints,
              pointRadius: 4,
              pointBackgroundColor: "#bfbfbf",
              pointBorderColor: "#bfbfbf",
            },
            {
              label: "Maiores Aberturas",
              data: topOpenings,
              pointRadius: 5,
              pointBackgroundColor: "#f15d22",
              pointBorderColor: "#f15d22",
            },
            {
              label: "Maiores Fechamentos",
              data: topClosings,
              pointRadius: 5,
              pointBackgroundColor: "#111111",
              pointBorderColor: "#111111",
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: "bottom",
              labels: { usePointStyle: true, boxWidth: 10 },
            },
          },
          scales: {
            x: {
              type: "linear",
              min: 1,
              max: 11,
              title: { display: true, text: "Duration" },
              grid: { color: "#d0d0d0" },
              ticks: {
                stepSize: 2,
                callback(value) {
                  return Number(value).toFixed(1).replace(".", ",");
                },
              },
            },
            y: {
              min: -120,
              max: 100,
              title: { display: true, text: "Aberturas/Fechamento" },
              grid: { color: "#d0d0d0" },
            },
          },
        },
      });

      const labels = ["jan-25", "fev-25", "mar-25", "abr-25", "mai-25", "jun-25", "jul-25", "ago-25", "set-25", "out-25", "nov-25", "dez-25", "jan-26"];
      const spreadMedioGeral = [48, 46, 43, 39, 42, 35, 18, 14, -5, -42, 8, 12, -28];

      new Chart(spreadEvolutionCtx, {
        type: "line",
        data: {
          labels,
          datasets: [
            {
              label: "Total (geral)",
              data: spreadMedioGeral,
              borderColor: "#111111",
              borderWidth: 4,
              tension: 0.25,
              pointRadius: 0,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: "bottom",
            },
          },
          scales: {
            x: {
              grid: { display: false },
            },
            y: {
              min: -80,
              max: 80,
              ticks: { stepSize: 20 },
              grid: { color: "#d0d0d0" },
            },
          },
        },
      });
    </script>
  </body>
</html>
